document.querySelectorAll(".sidebar-nav-link").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.getAttribute("href"),r=document.querySelector(i);r&&r.scrollIntoView({behavior:"smooth",block:"start"})})});const h=document.querySelectorAll(".category-btn"),v=document.querySelectorAll(".finish-btn"),L=document.querySelectorAll(".gallery-item"),q=document.querySelectorAll("#gallery-container > section"),f=document.getElementById("empty-state"),w=document.getElementById("visible-count"),C=document.getElementById("total-count"),a=document.getElementById("concrete-finish-filter"),M=document.querySelectorAll(".concrete-type-btn"),T=document.querySelectorAll(".outdoor-living-type-btn"),F=document.querySelectorAll(".landscaping-type-btn");let s="all",o="all",l=[];function y(){let e=0;q.forEach(t=>{const i=t.getAttribute("id");let r=!1;(s==="all"||i===`section-${s}`)&&(r=!0),r?t.classList.remove("hidden"):t.classList.add("hidden")}),L.forEach(t=>{const i=t.getAttribute("data-category"),r=t.getAttribute("data-type"),E=t.getAttribute("data-finish");let n=!1;if(s==="all")n=!0;else if(s===i)if(s==="concrete"){const u=o==="all"||o===r,k=l.length===0||E&&l.includes(E);n=u&&k}else s==="outdoor-living"||s==="landscaping"?n=o==="all"||o===r:n=!0;n?(t.classList.remove("hidden"),t.classList.add("animate-fade-in"),e++):(t.classList.add("hidden"),t.classList.remove("animate-fade-in"))}),w&&C&&(w.textContent=e.toString()),f&&(e===0?f.classList.remove("hidden"):f.classList.add("hidden"))}h.forEach(e=>{e.addEventListener("click",()=>{e.hasAttribute("disabled")||(h.forEach(t=>{t.classList.remove("active","bg-primary","text-white","shadow-lg"),t.classList.add("bg-white","text-gray-700","border-2","border-gray-200")}),e.classList.add("active","bg-primary","text-white","shadow-lg"),e.classList.remove("bg-white","text-gray-700","border-2","border-gray-200"),s=e.getAttribute("data-category")||"all",o=e.getAttribute("data-type")||"all",l=[],a&&(s==="concrete"?(a.classList.remove("hidden"),a.classList.add("flex"),v.forEach(t=>{t.classList.remove("active","bg-primary","text-white","border-primary"),t.classList.add("bg-gray-100","text-gray-600","border-gray-300")})):(a.classList.add("hidden"),a.classList.remove("flex"))),y())})});M.forEach(e=>{e.addEventListener("click",()=>{s="concrete",o=e.getAttribute("data-type")||"all",l=[],h.forEach(i=>{i.classList.remove("active","bg-primary","text-white","shadow-lg"),i.classList.add("bg-white","text-gray-700","border-2","border-gray-200")});const t=document.querySelector('[data-category="concrete"][data-type="all"]');t&&(t.classList.add("active","bg-primary","text-white","shadow-lg"),t.classList.remove("bg-white","text-gray-700","border-2","border-gray-200")),a&&(a.classList.remove("hidden"),a.classList.add("flex"),v.forEach(i=>{i.classList.remove("active","bg-primary","text-white"),i.classList.add("bg-gray-100","text-gray-600")})),y()})});T.forEach(e=>{e.addEventListener("click",()=>{s="outdoor-living",o=e.getAttribute("data-type")||"all",l=[],h.forEach(i=>{i.classList.remove("active","bg-primary","text-white","shadow-lg"),i.classList.add("bg-white","text-gray-700","border-2","border-gray-200")});const t=document.querySelector('[data-category="outdoor-living"][data-type="all"]');t&&(t.classList.add("active","bg-primary","text-white","shadow-lg"),t.classList.remove("bg-white","text-gray-700","border-2","border-gray-200")),a&&(a.classList.add("hidden"),a.classList.remove("flex")),y()})});F.forEach(e=>{e.addEventListener("click",()=>{s="landscaping",o=e.getAttribute("data-type")||"all",l=[],h.forEach(i=>{i.classList.remove("active","bg-primary","text-white","shadow-lg"),i.classList.add("bg-white","text-gray-700","border-2","border-gray-200")});const t=document.querySelector('[data-category="landscaping"][data-type="all"]');t&&(t.classList.add("active","bg-primary","text-white","shadow-lg"),t.classList.remove("bg-white","text-gray-700","border-2","border-gray-200")),a&&(a.classList.add("hidden"),a.classList.remove("flex")),y()})});v.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-finish");if(!t)return;const i=l.indexOf(t);i>-1?(l.splice(i,1),e.classList.remove("active","bg-primary","text-white"),e.classList.add("bg-gray-100","text-gray-600")):(l.push(t),e.classList.add("active","bg-primary","text-white"),e.classList.remove("bg-gray-100","text-gray-600")),y()})});const d=document.getElementById("lightbox"),b=document.getElementById("lightbox-image"),I=document.getElementById("lightbox-caption"),A=document.getElementById("lightbox-counter"),$=document.getElementById("lightbox-close"),G=document.getElementById("lightbox-prev"),O=document.getElementById("lightbox-next");let c=0,g=[];function m(){g=Array.from(L).filter(e=>!e.classList.contains("hidden"))}function x(e){m(),c=e;const t=g[c];if(!t)return;const i=t.querySelector("img");!i||!d||!b||!I||!A||(b.src=i.src,b.alt=i.alt,I.textContent=i.alt,A.textContent=`${c+1} / ${g.length}`,d.classList.remove("hidden"),d.classList.add("flex"),document.body.style.overflow="hidden")}function p(){d&&(d.classList.add("hidden"),d.classList.remove("flex"),document.body.style.overflow="")}function S(){m(),c=(c+1)%g.length,x(c)}function B(){m(),c=c===0?g.length-1:c-1,x(c)}L.forEach((e,t)=>{e.addEventListener("click",()=>{m();const i=g.indexOf(e);i!==-1&&x(i)})});$?.addEventListener("click",p);O?.addEventListener("click",S);G?.addEventListener("click",B);d?.addEventListener("click",e=>{e.target===d&&p()});document.addEventListener("keydown",e=>{d?.classList.contains("hidden")||(e.key==="Escape"&&p(),e.key==="ArrowRight"&&S(),e.key==="ArrowLeft"&&B())});y();
